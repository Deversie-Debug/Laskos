<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Virtual Statue Phone Call Demo</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@900&display=swap" rel="stylesheet">
<style>
html, body {
  margin:0; padding:0;
  width:100vw; height:100vh;
  overflow:hidden;
  font-family: Arial, sans-serif;
  background: #e6f0ff;
  display:flex; justify-content:center; align-items:center;
}

/* Preloader */
#preloader {
  position: fixed;
  top:0; left:0;
  width:100vw; height:100vh;
  background: rgba(0,0,0,0.35);
  display:flex; justify-content:center; align-items:center;
  flex-direction: column;
  z-index:9999;
  padding:20px;
  box-sizing:border-box;
  transition: opacity 0.5s ease;
}

.preloader-text {
  font-family: 'Playfair Display', serif;
  font-weight:900;
  font-size: clamp(30px,10vw,120px);
  color:#fff;
  white-space: nowrap;
  text-align:center;
  display:flex; align-items:center; justify-content:center;
  text-shadow:0 0 8px rgba(255,255,255,0.6),0 0 12px rgba(255,255,255,0.3);
  max-width: calc(100% - 40px);
}

.preloader-text span { display:inline-block; opacity:0; transform:translateY(20px); animation: appear 0.35s forwards; margin-right:2px; }
.preloader-text img { width:clamp(30px,6vw,60px); height:auto; margin:0 10px; opacity:0; transform:translateY(20px); animation:appear 0.35s forwards; }

@keyframes appear { to { opacity:1; transform: translateY(0); } }

/* Screens */
.screen {
  display:none; 
  flex-direction: column; 
  align-items: center;
  text-align:center; 
  width:100vw; 
  height:100vh; 
  box-sizing:border-box;
}
.active { display:flex; justify-content: space-between; padding:40px 20px; }

/* Flags */
.flags-container { display:flex; gap:20px; }
.flag { width:60px; height:40px; cursor:pointer; border-radius:5px; border:2px solid transparent; transition: transform 0.2s, border 0.2s; }
.flag:hover { transform: scale(1.1); border:2px solid #0077cc; }

/* Statue */
.statue-container { position: relative; display:flex; justify-content:center; align-items:center; width:30vw; height:30vw; max-width:300px; max-height:300px; margin-top:20px; }
.statue-img { width:100%; height:100%; border-radius:50%; z-index:2; }

/* Buttons at bottom */
.buttons { display:flex; justify-content:center; margin-bottom:20px; }
button { padding:15px 25px; border-radius:50px; border:none; color:white; font-weight:bold; font-size:18px; cursor:pointer; margin:10px; min-width:120px; }
.answer { background-color:#28a745; }
.decline { background-color:#dc3545; }
.end-call { background-color:#ff9933; min-width:180px; }

/* Animations */
.incoming-call .statue-img { animation: bounce 1s infinite; box-shadow:0 0 15px #0077cc; }
.talking { animation: talk 0.6s infinite alternate; }

@keyframes bounce { 0%,100%{transform:translateY(0);} 50%{transform:translateY(-10px);} }
@keyframes talk { 0%{transform:scale(1);} 50%{transform:scale(1.03);} 100%{transform:scale(1);} }

@media(max-width:500px){
  .statue-container { width:40vw; height:40vw; }
  .statue-img { width:100%; height:100%; }
  .flag { width:45px; height:30px; }
}
</style>
</head>
<body>

<!-- Preloader -->
<div id="preloader">
  <div class="preloader-text" id="preloaderText">LIVING STATUES</div>
</div>

<!-- Language Selection -->
<div class="screen" id="languageScreen">
  <div class="flags-container">
    <img src="https://upload.wikimedia.org/wikipedia/commons/2/2d/Animated-Flag-United-Kingdom.gif" class="flag" data-lang="en" alt="English">
    <img src="https://upload.wikimedia.org/wikipedia/commons/e/eb/Animated-Flag-Greece.gif" class="flag" data-lang="gr" alt="Greek">
  </div>
</div>

<!-- Incoming Call -->
<div class="screen" id="incomingCall">
  <div>
    <h1>Incoming Call</h1>
    <p id="callName">Vasilis Laskos / Βασίλης Λάσκος</p>
    <div class="statue-container incoming-call">
      <img src="https://raw.githubusercontent.com/Deversie-Debug/Laskos/main/LaskosGR.jpg" alt="Statue" class="statue-img" id="incomingStatue">
    </div>
  </div>
  <div class="buttons">
    <button class="answer" id="answerBtn">Answer</button>
    <button class="decline" id="declineBtn">Decline</button>
  </div>
</div>

<!-- Active Call -->
<div class="screen" id="activeCall">
  <div>
    <h1>Call with Statue</h1>
    <div class="statue-container" id="activeStatueContainer">
      <img src="https://raw.githubusercontent.com/Deversie-Debug/Laskos/main/LaskosGR.jpg" alt="Statue" class="statue-img" id="activeStatue">
    </div>
  </div>
  <div class="buttons">
    <button class="end-call" id="endCallBtn">End Call</button>
  </div>
</div>

<!-- Audio -->
<audio id="audio" src="https://raw.githubusercontent.com/Deversie-Debug/Laskos/main/LaskosGR.mp3"></audio>

<script>
// Preloader
const preloaderText=document.getElementById('preloaderText');
const text=preloaderText.textContent;
preloaderText.textContent='';
const imgURL='https://raw.githubusercontent.com/Deversie-Debug/Laskos/main/Logo.png';
let animationIndex=0;
for(let i=0;i<text.length;i++){
  if(text[i]===" "){
    const img=document.createElement('img');
    img.src=imgURL;
    img.style.animationDelay=`${animationIndex*0.15}s`;
    preloaderText.appendChild(img);
    animationIndex++;
  } else {
    const span=document.createElement('span');
    span.textContent=text[i];
    span.style.animationDelay=`${animationIndex*0.15}s`;
    preloaderText.appendChild(span);
    animationIndex++;
  }
}
setTimeout(()=>{
  document.getElementById('preloader').style.opacity='0';
  setTimeout(()=>{ 
    document.getElementById('preloader').style.display='none';
    document.getElementById('languageScreen').classList.add('active'); 
  },500);
}, animationIndex*150 + 500);

// Language selection
const languageScreen=document.getElementById('languageScreen');
const incomingCall=document.getElementById('incomingCall');
const flags=document.querySelectorAll('.flag');
let selectedLanguage='en';

flags.forEach(flag=>{
  flag.addEventListener('click',()=>{
    selectedLanguage=flag.dataset.lang;
    languageScreen.classList.remove('active');
    incomingCall.classList.add('active');
  });
});

// Buttons and Audio
const activeCall=document.getElementById('activeCall');
const answerBtn=document.getElementById('answerBtn');
const declineBtn=document.getElementById('declineBtn');
const endCallBtn=document.getElementById('endCallBtn');
const audio=document.getElementById('audio');
const activeStatue=document.getElementById('activeStatue');

// Answer call
answerBtn.addEventListener('click',()=>{
    incomingCall.classList.remove('active');
    activeCall.classList.add('active');
    audio.currentTime=0;
    audio.play();
    activeStatue.classList.add('talking');
});

// Decline call
declineBtn.addEventListener('click',()=>{
    audio.pause(); audio.currentTime=0;
    incomingCall.classList.remove('active');
    activeCall.classList.remove('active');
    languageScreen.classList.add('active');
    activeStatue.classList.remove('talking');
});

// End call
endCallBtn.addEventListener('click',()=>{
    audio.pause(); audio.currentTime=0;
    activeCall.classList.remove('active');
    languageScreen.classList.add('active');
    activeStatue.classList.remove('talking');
});

// Stop talking animation when audio ends
audio.addEventListener('ended',()=>{
    activeStatue.classList.remove('talking');
});
</script>
</body>
</html>
